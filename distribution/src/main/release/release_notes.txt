Apache CXF 3.1.9 Release Notes

1. Overview

The 3.1.9 version of Apache CXF is a significant new version of CXF 
that provides several new features and enhancements.  

New features include: 

* New Metrics feature for collecting metrics about a CXF services.  
* New Throttling feature for easily throttling CXF services.  
* New Logging feature for more advanced logging than the logging 
  available in cxf-core
* New Metadata service for SAML SSO to allow you to publish SAML SSO 
  metadata for your service provider.
* Enhancements to the code generator to be more "Java7" friendly
* Update to OpenSAML 3.0
* Support for Karaf 4, Jetty 9

Important notes:
CXF 3.1.x no longer supports Java 6.   You must upgrade to Java 7 or later.

Users are encourage to review the migration guide at:
http://cxf.apache.org/docs/31-migration-guide.html
for further information and requirements for upgrading from earlier
versions of CXF.

3.1.9 fixes over 45 JIRA issues reported by users and the community.


2. Installation Prerequisites 

Before installing Apache CXF, make sure the following products,
with the specified versions, are installed on your system:

    * Java 7 Development Kit
    * Apache Maven 3.x to build the samples


3.  Integrating CXF Into Your Application

If you use Maven to build your application, you need merely add
appropriate dependencies. See the pom.xml files in the samples.

If you don't use Maven, you'll need to add one or more jars to your
classpath. The file lib/WHICH_JARS should help you decide which 
jars you need.

4. Building the Samples

Building the samples included in the binary distribution is easy. Change to
the samples directory and follow the build instructions in the README.txt file 
included with each sample.

5. Reporting Problems

If you have any problems or want to send feedback of any kind, please e-mail the
CXF dev list, dev@cxf.apache.org.  You can also file issues in JIRA at:

http://issues.apache.org/jira/browse/CXF

6. Migration notes:

See the migration guide at:
http://cxf.apache.org/docs/31-migration-guide.html
for caveats when upgrading from CXF 2.7.x and 3.0.x
to 3.1.



7. Specific issues, features, and improvements fixed in this version


** Bug
    * [CXF-6216] - No output sanitizing in FormattedServiceListWriter 
    * [CXF-6604] - Sporadic ClassCastException in AsymmetricBindingHandler#doSignBeforeEncrypt
    * [CXF-6836] - Swagger2 tests need to be updated to do a more robust JSON or YAML comparison
    * [CXF-6896] - CDI integration: duplicate service / feature / provider beans are registered when Application class has singletons
    * [CXF-7015] - Invalid URL encoding causes error 500
    * [CXF-7091] - JAXRSBeanValidationOutInterceptor fails to validate Response entity on the 2nd try
    * [CXF-7092] - Swagger2Feature tries to resolve swagger-ui resources with api-docs
    * [CXF-7095] - CDI integration doesn't use the right bus to create the server factory
    * [CXF-7097] - [CDI] application leaks a creational context
    * [CXF-7099] - Technical user should be the SAML Subject for the ActAs use-case
    * [CXF-7105] - Don't register default application if no services discovered
    * [CXF-7109] - ClientCallback may be invoked twice when Async HTTP Transport is used
    * [CXF-7112] - AsyncHTTPConduit ignore the ReceiveTimeout when use Async JAXWS api
    * [CXF-7114] - Disable HTTP TRACE method on CXF http-jetty transport
    * [CXF-7115] - Issuer in TokenIntrospection should be quoted in JSON
    * [CXF-7116] - AsyncResponse.resume() infinitely hangs up after first call
    * [CXF-7117] - Swagger2Feature not working in OSGi container when jaxrs server address not attached to CXF servlet
    * [CXF-7121] - Need to log a warning when async method returns a non-void type
    * [CXF-7122] - Infinite loop due to AsyncHTTPConduit read timeout with exhausted connection pool
    * [CXF-7123] - JAXRS Clients will hang if they do not set a oneway exchange status before the call and 202 is returned
    * [CXF-7124] - PackageUtils.getSharedPackageName(List<Class<?>>) has bug
    * [CXF-7133] - Don't rely on disabled scanning in CDI
    * [CXF-7134] - Fix how non-normal scoped beans are used in CDI extension
    * [CXF-7139] - BufferOverflowException when decoding a parameter values with a trailing %
    * [CXF-7140] - Multiple calls to AsyncResponse.cancel() returns different values
    * [CXF-7142] - Blueprint mandatory in OSGi
    * [CXF-7145] - synchronized store and getMessages of JmsPullPoint would cause deadlock
    * [CXF-7147] - Unable to register a generic _InvocationCallback<Object>_ when using the async proxy client API in JAX-RS
    * [CXF-7148] - Race Condition while handling symmetric key in SymmetricBindingHandler
    * [CXF-7154] - WSDL2JAVA Allows Unsafe Characters in to Generated Javadocs
    * [CXF-7155] - JAXRSOutInterceptor do not close CachedOutputStream when out buffering is enabled
    * [CXF-7161] - OIDC Dynamic Registration : NPE for implicit grant_types
    * [CXF-7162] - Inconsistent reading of formatted xml when validating schema

** Improvement
    * [CXF-6986] - Don't require an application class if using CDI
    * [CXF-7072] - Make it easier to auto-discover MetricsFeature
    * [CXF-7106] - Support inserting claims into tokens issued by the STS in conjunction with ActAs
    * [CXF-7107] - Support inserting claims into tokens issued by the STS in conjunction with ActAs
    * [CXF-7110] - Inflexible jwt audience restriction validation
    * [CXF-7111] - Make the security token lifetime configurable
    * [CXF-7125] - Automatically expose logging feature as intent for DOSGi
    * [CXF-7137] - Allow OAuth2 customization via Swagger2Feature
    * [CXF-7144] - support to specify pullpoint queue name of WS-N
    * [CXF-7156] - java2ws-plugin - add portName as configuration option

** New Feature
    * [CXF-7119] - Introduce a JAX-RS client provider for catching technical exceptions (e.g. IOException)
    * [CXF-7157] - Support the client side bean validation for CXF client proxies  

** Task
    * [CXF-7093] - Investigate how SpringBoot demos can be included in the distribution
    * [CXF-7152] - OIDC FormResponse mode needs to be supported for Implicit Flow too



