Apache CXF 3.1.8 Release Notes

1. Overview

The 3.1.8 version of Apache CXF is a significant new version of CXF 
that provides several new features and enhancements.  

New features include: 

* New Metrics feature for collecting metrics about a CXF services.  
* New Throttling feature for easily throttling CXF services.  
* New Logging feature for more advanced logging than the logging 
  available in cxf-core
* New Metadata service for SAML SSO to allow you to publish SAML SSO 
  metadata for your service provider.
* Enhancements to the code generator to be more "Java7" friendly
* Update to OpenSAML 3.0
* Support for Karaf 4, Jetty 9

Important notes:
CXF 3.1.x no longer supports Java 6.   You must upgrade to Java 7 or later.

Users are encourage to review the migration guide at:
http://cxf.apache.org/docs/31-migration-guide.html
for further information and requirements for upgrading from earlier
versions of CXF.

3.1.8 fixes over 55 JIRA issues reported by users and the community.



2. Installation Prerequisites 

Before installing Apache CXF, make sure the following products,
with the specified versions, are installed on your system:

    * Java 7 Development Kit
    * Apache Maven 3.x to build the samples


3.  Integrating CXF Into Your Application

If you use Maven to build your application, you need merely add
appropriate dependencies. See the pom.xml files in the samples.

If you don't use Maven, you'll need to add one or more jars to your
classpath. The file lib/WHICH_JARS should help you decide which 
jars you need.

4. Building the Samples

Building the samples included in the binary distribution is easy. Change to
the samples directory and follow the build instructions in the README.txt file 
included with each sample.

5. Reporting Problems

If you have any problems or want to send feedback of any kind, please e-mail the
CXF dev list, dev@cxf.apache.org.  You can also file issues in JIRA at:

http://issues.apache.org/jira/browse/CXF

6. Migration notes:

See the migration guide at:
http://cxf.apache.org/docs/31-migration-guide.html
for caveats when upgrading from CXF 2.7.x and 3.0.x
to 3.1.



7. Specific issues, features, and improvements fixed in this version


** Bug
    * [CXF-6740] - Collision by Swagger2Feature in two OSGI bundles 
    * [CXF-6917] - SuperClass and Interface's Annotations are ignored when the Method contains ParameterAnnotation
    * [CXF-6981] - Getting "java.io.IOException: stream is closed" for > 64K messages
    * [CXF-6984] - OAuthJSonProvider mixes expirytime and issuer in writeTokenIntrospection.
    * [CXF-6985] - parameter state may contain spaces, it must be urlencoded in response.
    * [CXF-6989] - Content Disposition does not handle "=" in filename
    * [CXF-6990] - Swagger tags not sorted if using Swagger2Feature
    * [CXF-6991] - WS-RM - Request context properties are lost when sending subsequent protocol message
    * [CXF-6992] - ParamConverterProvider invoked with wrong types
    * [CXF-6994] - RMCaptureInInterceptor running on GET requests
    * [CXF-6996] - "n" in JWK for RSA should be unsigned, but is signed in JwkUtils.prepareRSAJwk
    * [CXF-7003] - Allow STS Tokens to have an optional ID
    * [CXF-7004] - Custom DateTime property is not serialized to JSON properly
    * [CXF-7005] - NullPointerException when using JwkUtils.toRSAPrivateKey
    * [CXF-7008] - Regression: CXF-5788 - JMS replyToDestination doesn't work
    * [CXF-7010] - Swagger2Feature can not auto-link to SwaggerUi in OSGI
    * [CXF-7017] - @BeanParam not working in subresource
    * [CXF-7021] - The WS-SecurityPolicy TransportBinding does not respect the digest method of the algorithm suite
    * [CXF-7026] - o.a.c.transport.http.osgi.HttpServiceTrackerCust service leak
    * [CXF-7028] - AsyncResponse Suspended annotation can not be inherited
    * [CXF-7029] - HttpAuthenticationFaultHandler cause java.lang.IllegalStateException: WRITER
    * [CXF-7033] - LoggingInterceptors do not handle messages with non-UTF-8 encoding properly
    * [CXF-7034] - should close HttpServiceTracker  in HTTPTransportActivator
    * [CXF-7037] - @Suspended can be broken on tomcat
    * [CXF-7038] - ensure the JMS Connection get refreshed so that the jms retry can get a useful Connection
    * [CXF-7039] - JAX-RS Security SAML web SSO consumer service can not validate SAML response behind reverse proxy
    * [CXF-7040] - Swagger UI Feature's resource root is incorrect for executable JAR/WAR
    * [CXF-7043] - JAX-RS endpoints cannot handle encoded URL when used with continuation and servlet transport
    * [CXF-7044] - LoggingInInterceptor sometimes crashes if truncates response with Unicode simbols
    * [CXF-7045] - Update sample description_swagger2_osgi README.txt
    * [CXF-7048] - Response does not include SequenceAcknowledgement
    * [CXF-7059] - ClientImpl.getBooleanValue() will return null for String values
    * [CXF-7069] - Finish JPACodeDataProvider implementation
    * [CXF-7070] - HTTP headers logged in debug
    * [CXF-7071] - HttpServletRequest.getParameter only get String from query not both posted form data
    * [CXF-7080] - XmlSecOutInterceptor doesn't recognise KeyName as a KeyIdentifier
    * [CXF-7087] - Getting the wsdl from a cxf webservice with custom XMLOuputFactory throws an exception
    * [CXF-7088] - SignedEncryptedSupportingTokens in WS-Policy and SAML not encrypted being accepted
    * [CXF-7090] - WSS4J not in <dependencyManagement> section

** Improvement
    * [CXF-6692] - Update AbstractOAuthDataProvider to support JWT access tokens
    * [CXF-6941] - Send Comma Separated Array in url request
    * [CXF-6950] - Support the per-request scope resouce bean via Spring configuration
    * [CXF-6983] - org.apache.cxf.jaxrs.provider.AbstractJAXBProvider#handleJAXBException doubles the error text for unmarshalling errors
    * [CXF-7000] - Allow logging to be enabled on-the-fly
    * [CXF-7002] - Add isExpired method in JettyContinuationWrapper 
    * [CXF-7006] - add an util method in AuthorizationUtils which can take AuthorizationFailure cause
    * [CXF-7020] - explicity create woodstox event factory as fallback if XMLEventFactory.newInstance fail
    * [CXF-7022] - Allow customization of Swagger JSON generation
    * [CXF-7024] - Support original WADL namespace prefix without incrementing it
    * [CXF-7027] - WADLGenerator should support AsyncResponse if ElementClass annotation is used
    * [CXF-7032] - Update WadlToJava to support javax.validation.Valid 
    * [CXF-7035] - Default Swagger2Serializers dynamicBasePath code needs to sync BeanConfig with Swagger
    * [CXF-7075] - Remove unnecessary string.length() and map.containsKey(...) calls to improve performance
    * [CXF-7089] - Let ParamConverters handle null proxy path parameters

** Wish
    * [CXF-7057] - CXF JAXRSClientFactoryBean proxy async support

